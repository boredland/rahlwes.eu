---
import DefaultLayout from '../../layouts/DefaultLayout.astro'
import Hero from '../../components/Hero.astro'
import Feature from '../../components/Feature.astro'
import ContentMedia from '../../components/ContentMedia.astro'
import { useTranslations, Locale } from '../../utils/i18n'
import lupe from '../../assets/img/lupe.webp'
import fotokiste from '../../assets/img/fotokiste.webp'
import fotoHand from '../../assets/img/foto-hand.webp'
import buchHand from '../../assets/img/buch-hand.webp'
import pair from '../../assets/img/pair-bubbles.png'
import { Image } from 'astro:assets'

export { getStaticPaths } from '../../utils/i18n'

const t = useTranslations(Astro.currentLocale as Locale)
---

<DefaultLayout title={t('home.title')}>
  <Hero />
  <section class="my-64">
    <div class="container">
      <h2 class="mb-16 text-6xl">{t('home.offer')}</h2>
      <div class="grid grid-cols-1 gap-12 md:grid-cols-1 lg:grid-cols-3">
        <Feature title={t('home.for.families.title')}>
          {t('home.for.families.description')}
        </Feature>
        <Feature title={t('home.for.companies.title')}>
          {t('home.for.companies.description')}
        </Feature>
        <Feature title={t('home.for.culture.title')}>
          {t('home.for.culture.description')}
        </Feature>
      </div>
    </div>
  </section>
  <section class="my-64">
    <div class="container grid grid-cols-1 gap-12">
      <h2 class="text-center">{t('home.collaboration.title')}</h2>
      <h3 class="text-center">{t("home.collaboration.subtitle")}</h3>
      <p class="text-2xl">
        {t("home.collaboration.description.p1")}
      </p>
      <p class="text-2xl">
        {t("home.collaboration.description.p2")}
      </p>
    </div>
  </section>
  <ContentMedia imgSrc={lupe} reverseImg>
    <h2 class="text-center">{t('home.pre-research.title')}</h2>
    <p class="text-2xl">
      {t('home.pre-research.description.p1')}
    </p>
    <p class="text-2xl">
      {t('home.pre-research.description.p2')}
    </p>
  </ContentMedia>
  <ContentMedia imgSrc={fotokiste} reverseImg>
    <h2>{t('home.research.title')}</h2>
    <p class="text-2xl">
      {t('home.research.description')}
    </p>
  </ContentMedia>
  <ContentMedia imgSrc={fotoHand} reverseImg>
    <h2>{t('home.evaluation.title')}</h2>
    <p class="text-2xl">
      {t('home.evaluation.description')}
    </p>
  </ContentMedia>
  <ContentMedia imgSrc={buchHand} reverseImg>
    <h2>{t('home.texting.title')}</h2>
    <p class="text-2xl">
      {t('home.texting.description')}
    </p>
  </ContentMedia>
  {/** TODO: Testimonials, slick? */}
  {/** TODO: Konditionen, accordions? */}
  <section class="my-64">
    <div class="container">
      <div class="grid grid-cols-1 items-center justify-between justify-items-center gap-24 md:grid-cols-2">
        <div class="space-content flex flex-col justify-center">
          <form class="w-full max-w-lg" id="contact" action="https://api.staticforms.xyz/submit" method="post">
            <h2 class="mb-16 text-6xl">{t('home.contact.title')}</h2>
            <input type="hidden" name="accessKey" value="9ff3d376-ed87-491b-ab19-de84aebde1be">
            <input type="text" name="honeypot" style="display: none;">
            <input type="text" name="replyTo" value="@" style="display: none;">
            <input type="hidden" name="subject" value="Nachricht über das Kontaktformular" />
      
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-first-name">
                  {t('home.contact.firstName')}
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="grid-first-name" type="text" placeholder="Jane" name="$first_name" required>
              </div>
              <div class="w-full md:w-1/2 px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-last-name">
                  {t('home.contact.lastName')}
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-last-name" type="text" placeholder="Doe" name="name" required>
              </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-email">
                  {t('home.contact.email')}
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-email" type="email" name="email" required>
              </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-message">
                  {t('home.contact.message')}
                </label>
                <textarea form="contact" rows={8} class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-message" name="message" required/>
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3 grid grid-flow-col items-center">
                <input type="checkbox" value="Hat Bedingungen akzeptiert." id="grid-privacy" name="$privacy" required class="h-4 w-20">
                <label class="block text-gray-700 text-s" for="grid-privacy">
                  {t('home.contact.privacy')}
                </label>
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3 grid grid-flow-col items-center">
                <input type="checkbox" value="Möchte einen Gutschein kaufen" id="grid-coupon" name="$Gutschein" class="h-4 w-20">
                <label class="block text-gray-700 text-s" for="grid-coupon">
                  {t('home.contact.coupon')}
                </label>
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3 grid grid-flow-col items-center">
                <input type="checkbox" value="Möchte ein Kennenlerngespräch" id="grid-get-to-know" name="$Kennenlerngespräch" class="h-4 w-20">
                <label class="block text-gray-700 text-s" for="grid-get-to-know">
                  {t('home.contact.get-to-know')}
                </label>
              </div>
            </div>

            <input type="hidden" name="redirectTo" value={Astro.url.toString()}>
      
            <button class="button" value="Submit" type="submit">{t('home.contact.submit')}</button>
          </form>
        </div>
        <Image src={pair} alt={""} class="w-64 md:w-fit rounded-lg" />
      </div>
    </div>
  </section>
  {/** Optional TODO: Add floating form button https://formspree.io/formbutton */}
  {/** Optional TODO: Add cal.com */}
</DefaultLayout>
